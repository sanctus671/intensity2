<ion-header>
    <ion-toolbar color="primary">
        <ion-title>
            {{exercise.name}}
        </ion-title>
        <ion-buttons start>
            <button ion-button (click)="dismiss()">
                <span ion-text showWhen="ios">Cancel</span>
                <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>



<ion-content>
    
    <ion-segment color="primary" [(ngModel)]="properties.activeTab"> 
      <ion-segment-button value="volume">
            Volume
      </ion-segment-button>
      <ion-segment-button value="weight">
            Weight
      </ion-segment-button>   
      <ion-segment-button value="reps">
            Reps
      </ion-segment-button>      
    </ion-segment>    

 
    
    <div *ngIf="properties.activeTab === 'volume'">
        <div class="diary-loading" *ngIf="properties.loading">
            <ion-spinner></ion-spinner>
        </div>     
     
        <div class="records-estimated-max yellow-background" *ngIf="fullRecords.backoffs.length > 0">
            <ion-icon name="trophy"></ion-icon>
            <h2>{{fullRecords.backoffs[fullRecords.backoffsIndex].best}}{{account.units}}</h2>
            <p>Volume for {{fullRecords.backoffs[fullRecords.backoffsIndex].reps}} rep sets</p>
        </div>        
        
        <ion-list class="records-list">
            <button ion-item *ngFor="let item of fullRecords.backoffs" (click)="viewRecord(item)">
                Best volume for {{item.reps}} rep sets: {{item.best}}{{account.units}}
            </button>  
        </ion-list>        
        
        
        
        
    </div>
    
    <div *ngIf="properties.activeTab === 'weight'">
        <div class="diary-loading" *ngIf="properties.loading">
            <ion-spinner></ion-spinner>
        </div>  
        
        
        <div class="records-estimated-max red-background" *ngIf="fullRecords.overall.length > 0">
            <ion-icon name="trophy"></ion-icon>
            <h2>{{fullRecords.overall[fullRecords.overallIndex].max}}{{account.units}}</h2>
            <p>{{fullRecords.overall[fullRecords.overallIndex].rep}} rep max</p>
        </div>         
        
        <ion-list class="records-list">
            <button ion-item *ngFor="let item of fullRecords.overall" (click)="viewRecord(item)" class="text-center">
                {{item.rep}}RM: {{item.max}}{{account.units}}
            </button>  
        </ion-list>          
        
        
    </div>

    <div *ngIf="properties.activeTab === 'reps'">
        <div class="diary-loading" *ngIf="properties.loading">
            <ion-spinner></ion-spinner>
        </div> 
        
        <div class="records-estimated-max orange-background" *ngIf="fullRecords.amrap.length > 0">
            <ion-icon name="trophy"></ion-icon>
            <h2>{{fullRecords.amrap[fullRecords.amrapIndex].reps}} rep<span *ngIf="fullRecords.amrap[fullRecords.amrapIndex].reps > 1">s</span></h2>
            <p>With {{fullRecords.amrap[fullRecords.amrapIndex].weight}}{{account.units}}</p>
        </div>  

        
        <ion-list class="records-list">
            <button ion-item *ngFor="let item of fullRecords.amrap" (click)="viewRecord(item)">
                Best reps with {{item.weight}}{{account.units}}: {{item.reps}}@RPE{{item.rpe}}
            </button>  
        </ion-list>            
        
        
    </div>    
    
</ion-content>