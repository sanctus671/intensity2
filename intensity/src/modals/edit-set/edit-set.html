<ion-header>
    <ion-toolbar color="primary">
        <ion-title>
            Edit Set
        </ion-title>
        <ion-buttons start>
            <button icon-start ion-button (click)="saveSet()" showWhen="android, windows">
                <ion-icon name="md-checkmark"></ion-icon>
                Save
            </button>       
            
            <button icon-start ion-button (click)="openDelete()" showWhen="android, windows">
                <ion-icon name="md-trash"></ion-icon>
                Delete
            </button>            
            
            <button ion-button (click)="dismiss()">
                <span ion-text showWhen="ios">Cancel</span>
                <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
            </button>
        </ion-buttons>
        
        <ion-buttons showWhen="ios" end>
            <button ion-button (click)="saveSet()">
                <span ion-text>Save</span>
            </button>      
            <button ion-button (click)="openDelete()">
                <span ion-text>Delete</span>
            </button>              
        </ion-buttons>
        
    </ion-toolbar>
</ion-header>



<ion-content>
    
<ion-list class="edit-set">

    <ion-item>
        <ion-label floating>Reps</ion-label>
        <ion-input type="number" [(ngModel)]="set.reps"></ion-input>
    </ion-item>

    <ion-item>
        <ion-label floating>Weight</ion-label>
        <ion-input type="number" [(ngModel)]="set.weight"></ion-input>
    </ion-item>
    
    <ion-item>
        <ion-label>Update reps & weight for all sets</ion-label>
        <ion-checkbox color="primary" [(ngModel)]="set.updateAll"></ion-checkbox>
    </ion-item>    
    
    <ion-list-header class="rpe-header">
        RPE
        <ion-badge item-end>{{set.rpeScaled / 10}}</ion-badge>
    </ion-list-header>    
    <ion-item>
        <ion-range [(ngModel)]="set.rpeScaled" min="60" max="100">
            <ion-icon range-left name="remove" (click)="changeRpe(-5)"></ion-icon>
            <ion-icon range-right name="add" (click)="changeRpe(5)"></ion-icon>
        </ion-range>
    </ion-item>    
    
    <ion-item>
        <ion-label floating>Intensity (%)</ion-label>
        <ion-input type="number" [(ngModel)]="set.percentage"></ion-input>
        <button ion-button outline item-end (click)="determinePercentage()">Calculate</button>
    </ion-item>
    

    <ion-item class="set-notes">
        <ion-label floating>Notes</ion-label>
        <ion-textarea [(ngModel)]="set.notes" autosize></ion-textarea>
    </ion-item>    
    
    <ion-list-header class="more-header" (click)="showMore = !showMore">
        More Options
        <ion-icon [name]="showMore ? 'md-arrow-dropup' :'md-arrow-dropdown'" item-end></ion-icon>
    </ion-list-header>    
    
    
    <div class="more-set-options" *ngIf="showMore">
        
        <ion-item>
            <ion-label floating>Rest Time (s)</ion-label>
            <ion-input type="number" [(ngModel)]="set.rest"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label floating>Distance (m)</ion-label>
            <ion-input type="number" [(ngModel)]="set.distance"></ion-input>
        </ion-item>
        
        <ion-item>
            <ion-label floating>Set Duration/Time (s)</ion-label>
            <ion-input type="number" [(ngModel)]="set.time"></ion-input>
        </ion-item>        

        <ion-item>
            <ion-label>Unit</ion-label>
            <ion-select [(ngModel)]="set.unit">
              <ion-option value="kg">kg</ion-option>
              <ion-option value="lbs">lbs</ion-option>
            </ion-select>
        </ion-item>
        
        <ion-item>
            <ion-label>Distance Unit</ion-label>
            <ion-select [(ngModel)]="set.distanceunit">
              <ion-option value="cm">cm</ion-option>
              <ion-option value="inches">inches</ion-option>
              <ion-option value="ft">ft</ion-option>
              <ion-option value="m">m</ion-option>
              <ion-option value="km">km</ion-option>
              <ion-option value="miles">miles</ion-option>
            </ion-select>
        </ion-item>        
        
    </div>
    
</ion-list>
       
    
</ion-content>